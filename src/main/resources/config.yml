# OnlineMonitor Plugin Configuration

# Plugin language
# Available languages: en (English), ru (Russian)
language: en

# Player join message
# By default, automatic localization is used based on the 'language' setting
# If you need a custom message, uncomment and edit the line below:
# Available placeholders: %player%, %online%
# Available color codes: &0-&9, &a-&f (use & for colors)
# Color examples: &a = green, &e = yellow, &6 = gold, &c = red
# Example: "&6Welcome, &e%player%&6! Online: &a%online%"
# welcome-message: "Welcome to the server, %player%!"

# Logging settings
log-unique-joins: true
log-join-quit: true

# Database settings
database:
  # Database type: sqlite or mysql
  # This is used to auto-build jdbcUrl if not specified in hikari section
  type: sqlite

  # SQLite settings (used when type: sqlite for auto-building jdbcUrl)
  sqlite:
    # Database file name (will be created in plugin folder)
    filename: statistics.db

  # MySQL settings (used when type: mysql for auto-building jdbcUrl)
  mysql:
    host: localhost
    port: 3306
    database: minecraft_stats
    # MySQL server timezone setting
    timezone: UTC

  # HikariCP Connection Pool settings
  # All settings here are automatically passed to HikariCP
  # You can add any HikariCP property here: https://github.com/brettwooldridge/HikariCP#configuration-knobs-baby
  hikari:
    # Database credentials
    username: root
    password: password

    # Driver class (auto-selected based on type if not specified)
    # driverClassName: com.mysql.cj.jdbc.Driver

    # JDBC URL (auto-built based on type if not specified)
    # You can override it here for full control:
    # jdbcUrl: jdbc:mysql://localhost:3306/minecraft_stats?useSSL=false&serverTimezone=UTC

    # Connection pool settings
    maximumPoolSize: 10
    minimumIdle: 2
    connectionTimeout: 30000
    idleTimeout: 600000
    maxLifetime: 1800000

    # Additional HikariCP settings (optional):
    # connectionTestQuery: SELECT 1
    # leakDetectionThreshold: 0
    # poolName: OnlineMonitorPool

# Time analytics settings
# Interval for recording online snapshots (in minutes)
snapshot-interval-minutes: 5
# How many days to keep snapshots (old ones are automatically deleted)
snapshot-days-to-keep: 30

# Timezone for recording time in DB
# Format: offset in hours from UTC (for MSK = +3)
timezone-offset: +3

# AFK Detection Settings
# Time in minutes after which a player is considered AFK (inactive)
# The player must not move, chat, break/place blocks, or perform any actions
# Default: 5 minutes
afk-threshold-minutes: 5

# Discord integration
discord:
  # Enable Discord bot (true/false)
  enabled: true

  # Discord bot token (get it at https://discord.com/developers/applications)
  bot-token: "YOUR_BOT_TOKEN_HERE"

  # Channel ID for notifications (Right-click on channel -> Copy ID)
  channel-id: "YOUR_CHANNEL_ID_HERE"

  # Notification settings
  notifications:
    # Player join/quit notifications
    player-join: true
    player-quit: true
    # Notify about new players
    new-player: true
    # Notify about new online records
    new-record: true
    # Server start/stop notifications
    server-start: true
    server-stop: true

# Web Dashboard
web-panel:
  # Enable web panel (true/false)
  enabled: true

  # Port for web panel (default 8080)
  # Make sure the port is not occupied by another application
  port: 8080

# UI Scoreboard (permanent statistics panel on screen)
scoreboard:
  # Enable UI statistics panel (true/false)
  enabled: true

  # Scoreboard update interval (in seconds)
  # Recommended: 1-5 seconds
  update-interval-seconds: 1